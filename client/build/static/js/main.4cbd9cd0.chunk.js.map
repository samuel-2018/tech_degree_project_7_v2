{"version":3,"sources":["Components/PhotoContainer.js","Components/NotFound.js","Components/Searching.js","Components/Photo.js","Components/Loading.js","Components/Photos.js","Components/Search.js","Components/SearchForm.js","Components/Nav.js","Components/Error.js","config.js","App.js","index.js"],"names":["PhotoContainer","props","title","children","react_default","a","createElement","className","NotFound","Searching","Photo","src","imageData","urls","small","alt","description","href","full","rel","target","user","links","html","name","Loading","Photos","data","length","Fragment","map","Components_Photo","key","id","Components_Loading","Search","query","lastQuery","handleQuery","searchStatus","searching","Components_PhotoContainer","Components_Searching","notFound","Components_NotFound","found","Components_Photos","SearchForm","handleSearch","event","preventDefault","currentTarget","search","value","path","concat","_this","history","push","onSubmit","this","type","placeholder","required","fill","height","viewBox","width","xmlns","d","Component","Nav","react_router_dom","to","Error","error","config","apiBaseUrl","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleAPI","requestType","referenceToThis","assertThisInitialized","setTimeout","axios","get","then","response","results","setState","prevState","updatedTopics","topics","catch","console","log","state","bind","handleTopics","_this2","react_router","component","Components_Nav","exact","render","Components_Search","match","params","Components_Error","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4cbd9cd0.chunk.js","sourcesContent":["import React from \"react\";\n// import Photo from \"./Photo\";\n\nconst PhotoContainer = props => {\n  // 'children' is a special React prop that gets child components.\n  const { title, children } = props;\n\n  return (\n    <div className=\"photo-container container\">\n      <h2>{title}</h2>\n      <ul>\n        {/* Inserts component here. */}\n        {children}\n      </ul>\n    </div>\n  );\n};\nexport default PhotoContainer;\n","import React from \"react\";\n\nconst NotFound = () => (\n  <li className=\"not-found msg\">\n    <h3>No Results Found</h3>\n    <p>You search did not return any results. Please try again.</p>\n  </li>\n);\n\nexport default NotFound;\n","import React from \"react\";\n\nconst Searching = () => (\n  <li className=\"searching msg\">\n    <h3>Searching...</h3>\n  </li>\n);\n\nexport default Searching;\n","import React from \"react\";\n\nconst Photo = props => {\n  return (\n    <li>\n      <figure>\n        <img\n          src={props.imageData.urls.small}\n          alt={props.imageData.description}\n        />\n\n        {/* Creates a layer for inset shadow.*/}\n        <div className=\"shadow-inset\" />\n\n        <figcaption>\n          <a\n            className=\"img-link\"\n            href={props.imageData.urls.full}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            Photo\n          </a>{\" \"}\n          by{\" \"}\n          <a\n            className=\"img-link\"\n            href={props.imageData.user.links.html}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            {props.imageData.user.name}\n          </a>{\" \"}\n          on Unsplash\n        </figcaption>\n      </figure>\n\n      <div />\n    </li>\n  );\n};\n\nexport default Photo;\n","import React from \"react\";\n\nconst Loading = () => (\n  <li className=\"loading msg\">\n    <h3>Loading...</h3>\n  </li>\n);\n\nexport default Loading;\n","import React from \"react\";\nimport Photo from \"./Photo\";\nimport Loading from \"./Loading\";\n\nconst Photos = props => {\n  const { data } = props;\n  if (data.length !== 0) {\n    return (\n      <>\n        {data.map(imageData => (\n          <Photo key={imageData.id} imageData={imageData} />\n        ))}\n      </>\n    );\n  } else {\n    // Shown when loading topics.\n    return <Loading />;\n  }\n};\n\nexport default Photos;\n","import React from \"react\";\nimport PhotoContainer from \"./PhotoContainer\";\nimport NotFound from \"./NotFound\";\nimport Searching from \"./Searching\";\nimport Photos from \"./Photos\";\n\nconst Search = props => {\n  const { data, query, lastQuery, handleQuery, searchStatus } = props;\n\n  // Prevents infinite render loop.\n  if (query !== lastQuery) {\n    // Sends query to App.js.\n    // Request can be made both on submit of search form and if url is entered directly in the browser.\n    handleQuery(query);\n  }\n\n  const action = {\n    searching: () => (\n      <PhotoContainer title={query + \" pictures\"}>\n        <Searching />\n      </PhotoContainer>\n    ),\n    notFound: () => (\n      <PhotoContainer title={query}>\n        <NotFound />\n      </PhotoContainer>\n    ),\n    found: () => (\n      <PhotoContainer title={query + \" pictures\"}>\n        <Photos data={data} />\n      </PhotoContainer>\n    )\n  };\n\n  return action[searchStatus]();\n};\n\nexport default Search;\n","import React, { Component } from \"react\";\n\nclass SearchForm extends Component {\n  handleSearch = event => {\n    event.preventDefault();\n\n    const query = event.currentTarget.search.value;\n    const path = `/search/${query}`;\n\n    // Starts the re-routing process.\n    this.props.history.push(path);\n  };\n\n  render() {\n    // Search form html adapted from TreeHouse project 7 template.\n\n    return (\n      <form className=\"search-form\" onSubmit={this.handleSearch}>\n        <input type=\"search\" name=\"search\" placeholder=\"Search\" required />\n        <button type=\"submit\" className=\"search-button\">\n          <svg\n            fill=\"#fff\"\n            height=\"24\"\n            viewBox=\"0 0 23 23\"\n            width=\"24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          </svg>\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nconst Nav = () => (\n  <nav className=\"main-nav\">\n    <ul>\n      <li>\n        <NavLink to=\"/island\">Islands</NavLink>\n      </li>\n      <li>\n        <NavLink to=\"/sunset\">Sunsets</NavLink>\n      </li>\n      <li>\n        <NavLink to=\"/waterfall\">Waterfalls</NavLink>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default Nav;\n","import React from \"react\";\n\nconst Error = props => {\n  const { error, description } = props;\n  return (\n    <li className=\"error msg\">\n      <h3>{error}</h3>\n      <p>{description}</p>\n    </li>\n  );\n};\n\nexport default Error;\n","export default { apiBaseUrl: 'http://localhost:5000/api' };","import React, { Component } from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport Search from \"./Components/Search\";\nimport SearchForm from \"./Components/SearchForm\";\nimport Nav from \"./Components/Nav\";\nimport PhotoContainer from \"./Components/PhotoContainer\";\nimport Error from \"./Components/Error\";\nimport axios from \"axios\";\n// import apiKey from \"./config.js\";\nimport Photos from \"./Components/Photos\";\n\n// Base URL: config.apiBaseUrl\nimport config from \"./config\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      // Data format: [[{photo1}, {photo2 etc}], [{photo1}, {photo2 etc}], [{photo1}, {photo2 etc}]]\n      topics: [[], [], []],\n\n      // Data format: [{photo1}, {photo2 etc}]\n      results: [],\n\n      // States: searching, notFound, found\n      searchStatus: \"searching\",\n\n      query: \"\"\n    };\n    this.handleQuery = this.handleQuery.bind(this);\n  }\n\n  componentDidMount() {\n    this.handleTopics();\n  }\n\n  handleTopics() {\n    this.handleAPI(\"islands\", 0);\n    this.handleAPI(\"sunset\", 1);\n    this.handleAPI(\"waterfall\", 2);\n  }\n\n  handleQuery(query) {\n    this.setState({\n      searchStatus: \"searching\",\n      query\n    });\n    this.handleAPI(query, \"search\");\n  }\n\n  // requestType: search, topic #\n  handleAPI = (query, requestType) => {\n    const referenceToThis = this;\n\n    // Per project requirments, get no more than 24 images.\n\n    // Unsplash limits developer API requests to 50 per hour.\n\n    setTimeout(() => {\n      // console.log(\"API Request will run.\");\n\n      // OLD VERSION\n      // axios\n      //   .get(\"https://api.unsplash.com/search/photos/\", {\n      //     params: {\n      //       client_id: apiKey,\n      //       query: query,\n      //       per_page: 24\n      //     }\n      //   })\n\n      axios\n        .get(`${config.apiBaseUrl}/${query}`)\n\n        .then(function(response) {\n          // SEARCH\n          if (requestType === \"search\") {\n            if (response.data.results.length !== 0) {\n              // Store result in state.\n              referenceToThis.setState({\n                results: response.data.results,\n                // Update search status.\n                searchStatus: \"found\"\n              });\n            } else {\n              referenceToThis.setState({\n                results: [],\n                // Update search status.\n                searchStatus: \"notFound\"\n              });\n            }\n            // TOPICS\n          } else {\n            referenceToThis.setState(prevState => {\n              // Gets copy of topics array from state.\n              let updatedTopics = prevState.topics;\n              // At index, adds current API response.\n              updatedTopics[requestType] = response.data.results;\n              // Updates state.\n              return { topics: updatedTopics };\n            });\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n\n      // Set API request delay here (to test 'searching' and 'loading' messages):\n    }, 0);\n  };\n\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <Route component={SearchForm} />\n\n          <Nav />\n\n          <Switch>\n            {/* TOPICS */}\n            {/* Redirects '/', and displays new url.*/}\n            <Route exact path=\"/\" render={() => <Redirect to=\"/island\" />} />\n            <Route\n              path=\"/island\"\n              render={() => (\n                <PhotoContainer title={\"island pictures\"}>\n                  <Photos data={this.state.topics[0]} />\n                </PhotoContainer>\n              )}\n            />\n            <Route\n              path=\"/sunset\"\n              render={() => (\n                <PhotoContainer title={\"sunset pictures\"}>\n                  <Photos data={this.state.topics[1]} />\n                </PhotoContainer>\n              )}\n            />\n            <Route\n              path=\"/waterfall\"\n              render={() => (\n                <PhotoContainer title={\"waterfall pictures\"}>\n                  <Photos data={this.state.topics[2]} />\n                </PhotoContainer>\n              )}\n            />\n\n            {/* SEARCH */}\n            <Route\n              path=\"/search/:query\"\n              render={props => {\n                return (\n                  <Search\n                    data={this.state.results}\n                    query={props.match.params.query}\n                    lastQuery={this.state.query}\n                    handleQuery={this.handleQuery}\n                    searchStatus={this.state.searchStatus}\n                  />\n                );\n              }}\n            />\n\n            {/* No matching url found, so creates a 404. */}\n            <Route\n              path=\"/\"\n              render={() => (\n                <PhotoContainer title={\"Whoops!\"}>\n                  <Error error={\"404\"} description={\"Page not found.\"} />\n                </PhotoContainer>\n              )}\n            />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}