(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(61)},39:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),s=(a(39),a(11)),u=a(12),i=a(14),o=a(13),m=a(10),h=a(15),d=a(7),E=a(6),f=function(e){var t=e.title,a=e.children;return r.a.createElement("div",{className:"photo-container container"},r.a.createElement("h2",null,t),r.a.createElement("ul",null,a))},p=function(){return r.a.createElement("li",{className:"not-found msg"},r.a.createElement("h3",null,"No Results Found"),r.a.createElement("p",null,"You search did not return any results. Please try again."))},g=function(){return r.a.createElement("li",{className:"searching msg"},r.a.createElement("h3",null,"Searching..."))},b=function(e){return r.a.createElement("li",null,r.a.createElement("figure",null,r.a.createElement("img",{src:e.imageData.urls.small,alt:e.imageData.description}),r.a.createElement("div",{className:"shadow-inset"}),r.a.createElement("figcaption",null,r.a.createElement("a",{className:"img-link",href:e.imageData.urls.full,rel:"noopener noreferrer",target:"_blank"},"Photo")," ","by"," ",r.a.createElement("a",{className:"img-link",href:e.imageData.user.links.html,rel:"noopener noreferrer",target:"_blank"},e.imageData.user.name)," ","on Unsplash")),r.a.createElement("div",null))},v=function(){return r.a.createElement("li",{className:"loading msg"},r.a.createElement("h3",null,"Loading..."))},y=function(e){var t=e.data;return 0!==t.length?r.a.createElement(r.a.Fragment,null,t.map(function(e){return r.a.createElement(b,{key:e.id,imageData:e})})):r.a.createElement(v,null)},S=function(e){var t=e.data,a=e.query,n=e.lastQuery,l=e.handleQuery,c=e.searchStatus;return a!==n&&l(a),{searching:function(){return r.a.createElement(f,{title:a+" pictures"},r.a.createElement(g,null))},notFound:function(){return r.a.createElement(f,{title:a},r.a.createElement(p,null))},found:function(){return r.a.createElement(f,{title:a+" pictures"},r.a.createElement(y,{data:t}))}}[c]()},w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault();var t=e.currentTarget.search.value,n="/search/".concat(t);a.props.history.push(n)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"search-form",onSubmit:this.handleSearch},r.a.createElement("input",{type:"search",name:"search",placeholder:"Search",required:!0}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))}}]),t}(n.Component),k=function(){return r.a.createElement("nav",{className:"main-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.b,{to:"/island"},"Islands")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/sunset"},"Sunsets")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/waterfall"},"Waterfalls"))))},N=function(e){var t=e.error,a=e.description;return r.a.createElement("li",{className:"error msg"},r.a.createElement("h3",null,t),r.a.createElement("p",null,a))},j=a(33),O=a.n(j),q={apiBaseUrl:"http://localhost:5000/api"},D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(o.a)(t).call(this))).handleAPI=function(t,a){var n=Object(m.a)(e);setTimeout(function(){O.a.get("".concat(q.apiBaseUrl,"/").concat(t)).then(function(e){"search"===a?0!==e.data.results.length?n.setState({results:e.data.results,searchStatus:"found"}):n.setState({results:[],searchStatus:"notFound"}):n.setState(function(t){var n=t.topics;return n[a]=e.data.results,{topics:n}})}).catch(function(e){console.log(e)})},0)},e.state={topics:[[],[],[]],results:[],searchStatus:"searching",query:""},e.handleQuery=e.handleQuery.bind(Object(m.a)(e)),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.handleTopics()}},{key:"handleTopics",value:function(){this.handleAPI("islands",0),this.handleAPI("sunset",1),this.handleAPI("waterfall",2)}},{key:"handleQuery",value:function(e){this.setState({searchStatus:"searching",query:e}),this.handleAPI(e,"search")}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(E.b,{component:w}),r.a.createElement(k,null),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(){return r.a.createElement(E.a,{to:"/island"})}}),r.a.createElement(E.b,{path:"/island",render:function(){return r.a.createElement(f,{title:"island pictures"},r.a.createElement(y,{data:e.state.topics[0]}))}}),r.a.createElement(E.b,{path:"/sunset",render:function(){return r.a.createElement(f,{title:"sunset pictures"},r.a.createElement(y,{data:e.state.topics[1]}))}}),r.a.createElement(E.b,{path:"/waterfall",render:function(){return r.a.createElement(f,{title:"waterfall pictures"},r.a.createElement(y,{data:e.state.topics[2]}))}}),r.a.createElement(E.b,{path:"/search/:query",render:function(t){return r.a.createElement(S,{data:e.state.results,query:t.match.params.query,lastQuery:e.state.query,handleQuery:e.handleQuery,searchStatus:e.state.searchStatus})}}),r.a.createElement(E.b,{path:"/",render:function(){return r.a.createElement(f,{title:"Whoops!"},r.a.createElement(N,{error:"404",description:"Page not found."}))}}))))}}]),t}(n.Component);c.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.4cbd9cd0.chunk.js.map